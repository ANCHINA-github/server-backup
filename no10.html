<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes"><!--告诉 iOS Safari 在用户将页面“添加到主屏幕”并以“独立（standalone）”模式打开时隐藏浏览器 UI（地址栏、工具栏），让页面看起来像原生应用。注意：只有用户手动添加到主屏幕后才生效。-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge"> <!-- 告知旧版 IE 使用最新的渲染模式（edge）。-->
    <meta name="apple-mobile-web-app-capable" content="yes"><!--启用 iOS 独立应用模式——当用户把页面添加到主屏幕后，以独立窗口打开时隐藏浏览器 UI，使页面更像原生应用。-->
    <link rel="shortcut icon" href="./home.svg">
    <title>武冈信息墙</title>
      <!--  预加载图片（目标页面的关键图片） -->
        <link rel="preload" href="./floatimg/float.jpg" as="image" crossorigin="anonymous">
  <link rel="preload" href="./floatimg/float (1).jpeg" as="image" crossorigin="anonymous">
  <link rel="preload" href="./floatimg/float (2).jpeg" as="image" crossorigin="anonymous">
      <!-- 预建立本站内部连接（提升服务页面加载速度） -->
  <link rel="preconnect" href="./" crossorigin="anonymous">
    <!-- 引入Font Awesome图标库（适配多端） -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* 全局重置与基础样式（保证跨浏览器一致性） */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
            -webkit-tap-highlight-color: transparent; /* 适用于iOS Safari、安卓Chrome等 */
        }

        html, body {
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* 1. 导航栏 section1 样式 */
        .section1 {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 1.5rem;
            background-color: #FAFAFA;
            background-image: url('./nav-img.png');
            background-repeat: no-repeat;
            background-size: contain;
            background-position: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            /* 左下、右下圆角 */
            border-radius: 0 0 16px 16px;
            position: relative;
            z-index: 100;
        }

        .logo {
            width: 48px;
            height: 48px;
            background-color: #ffffff00;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
            /* 响应式缩放 */
            transition: width 0.3s, height 0.3s, font-size 0.3s;
        }

        .service-name {
            font-size: 18px;
            font-weight: 600;
            color: #000000;
            /* 响应式缩放 */
            transition: font-size 0.3s;
        }

        /* 2. 轮播 section2 样式 */
        .section2 {
            width: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            position: relative;
        }

        .carousel-container {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: auto;
        }

        .carousel-item {
            flex: 0 0 100%;
            width: 100%;
        }

        .carousel-img {
            width: 100%;
            height: auto;
            object-fit: cover; /* 保证图片不变形 */
            display: block; /* 消除底部空白 */
        }

        /* 轮播切换按钮 */
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background-color: rgba(0,0,0,0.5);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            font-size: 18px;
        }

        .prev-btn {
            left: 10px;
        }

        .next-btn {
            right: 10px;
        }

        /* 轮播指示器 */
        .carousel-indicators {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }

        .indicator-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.6);
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .indicator-dot.active {
            background-color: white;
        }

        /* 3. 通知 section3 样式 */
        .section3 {
            background-color: #FAFAFA; 
            padding: 12px 16px;
            font-size: 15px;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        /* 4. 服务链接 section4 样式 */
        .section4 {
            padding: 2rem 1rem;
           background-color: #FAFAFA;
            display: grid;
            /* 响应式网格布局 - 自动适配列数 */
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 16px;
        }

        .service-card {
            display: flex;
            flex-direction: column;
            padding: 16px;
            border-radius: 12px;
            color: white;
            text-decoration: none;
            /* 毛玻璃效果（兼容webkit内核） */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }

        .service-card:hover {
            transform: translateY(-4px);
        }

        .service-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .service-desc {
            font-size: 12px;
            opacity: 0.9;
            line-height: 1.4;
        }

        .service-arrow {
            align-self: flex-end;
            margin-top: auto;
            font-size: 18px;
            opacity: 0.8;
        }

        
        .card1 { background: rgba(22, 93, 255, 0.8); }
        .card2 { background: rgba(0, 191, 165, 0.8); }
        .card3 { background: rgba(255, 145, 0, 0.8); }
        .card4 { background: rgba(156, 39, 176, 0.8); }
        .card5 { background: rgba(255, 87, 34, 0.8); }
        .card6 { background: rgba(63, 81, 181, 0.8); }
        .card7 { background: rgba(0, 188, 212, 0.8); }
        .card8 { background: rgba(103, 58, 183, 0.8); }
        .card9 { background: rgba(244, 67, 54, 0.8); }
        .card10 { background: rgba(76, 175, 80, 0.8); }
        .card11 { background: rgba(255, 0, 157, 0.8); }
        .card12 { background: rgba(0, 149, 255, 0.8); }
        .card13 { background: rgba(17, 0, 255, 0.8); }
        .card14 {background: rgba(0, 0, 0, 0.861); }

        /* 下载按钮section5  */
        .section5 {
            padding: 2rem 1rem;
            display: flex;
            justify-content: center;
            gap: 16px;
            flex-wrap: wrap;
            background-color: #FAFAFA;
        }

        .download-btn {
            padding: 12px 32px;
            background-color: #ffae00;
            color: white;
            border: none;
            border-radius: 24px;
            font-size: 16px;
            /* 禁用状态样式 */
            cursor: not-allowed;
            opacity: 0.6;
            transition: opacity 0.3s, cursor 0.3s;
        }

        /* 解除禁用（移除disabled属性后生效） */
        .download-btn:not([disabled]) {
            cursor: pointer;
            opacity: 1;
        }

        .download-btn:not([disabled]):hover {
            background-color: #baa700;
        }
        .compare-container {
            width: 100%;
            max-width: 800px;
            height: 400px;
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }

        .compare-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .top-img {
            width: 50%; /* 初始覆盖一半 */
            border-right: 2px solid white;
            z-index: 1;
        }

        .slider-btn {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background-color: white;
            border-radius: 50%;
            cursor: ew-resize;
            z-index: 2;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            color: #165DFF;
            font-weight: bold;
        }

        .compare-desc {
            margin-top: 16px;
            font-size: 14px;
            color: #ff8000;
            text-align: center;
            max-width: 800px;
        }

        /* 7. 页脚 section7 样式 */
        .section7 {
            padding: 2rem 1rem;
            background-color: #FAFAFA;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .footer-logo {
            width: 40px;
            height: 40px;
            background-color: rgba(22, 92, 255, 0);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: bold;
        }

        .footer-name {
            font-size: 16px;
            opacity: 0.9;
            color: #ff8000;
        }

        /* 响应式适配（小屏幕） */
        @media (max-width: 768px) {
            .logo {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .service-name {
                font-size: 16px;
            }

            .compare-container {
                height: 280px;
            }

            .download-btn {
                padding: 10px 24px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            .section4 {
                grid-template-columns: repeat(2, 1fr);
            }

            .compare-container {
                height: 200px;
            }

            .carousel-btn {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
         <!--
  #####    #####   #######
 #     #  #     #  #      
       #  #     #  #      
   ####   #     #   ##### 
       #  #     #        #
 #     #  #     #  #     #
  #####    #####    ##### 
                           -->


    <!--导航栏 -->
    <section class="section1">
        <div class="logo">
<img src="./home.svg" alt="logo" style="width: 45px;">
        </div>
        <div class="service-name">武冈信息墙</div>
    </section>

    <!--轮播 -->
    <section class="section2">
        <div class="carousel-container">
            <div class="carousel-item">
                <img src="./floatimg/float.jpg" alt="1" class="carousel-img">
            </div>
            <div class="carousel-item">
                <img src="./floatimg/float (1).jpeg" alt="2" class="carousel-img">
            </div>
            <div class="carousel-item">
                <img src="./floatimg/float (2).jpeg" alt="3" class="carousel-img">
            </div>
        </div>
        <!-- 切换按钮 -->
        <button class="carousel-btn prev-btn"><i class="fas fa-chevron-left"></i></button>
        <button class="carousel-btn next-btn"><i class="fas fa-chevron-right"></i></button>
        <!-- 指示器 -->
        <div class="carousel-indicators">
            <span class="indicator-dot active" data-index="0"></span>
            <span class="indicator-dot" data-index="1"></span>
            <span class="indicator-dot" data-index="2"></span>
        </div>
    </section>

    <!--  通知 -->
    <section class="section3">
      <a href="./feedback/feedback.php" style="color: #c60000;">->点我反馈显示上的问题<-</a>
    </section>

    <!-- 服务链接 -->
    <section class="section4">
        <a href="./service/wall/login-service.php" class="service-card card1">
            <div class="service-title">武冈十中墙</div>
            <div class="service-desc">武冈市第十中学</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
       <a href="" class="service-card card2">
            <div class="service-title">武冈二中墙</div>
            <div class="service-desc">武冈二中墙</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
    
        <a href="" class="service-card card3">
            <div class="service-title">武冈一中墙</div>
            <div class="service-desc">武冈一中</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        
        <a href="" class="service-card card10">
            <div class="service-title">武冈洞庭墙</div>
            <div class="service-desc">洞庭中学</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card5">
            <div class="service-title">武冈实验中学墙</div>
            <div class="service-desc">实验中学</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card7">
            <div class="service-title">武冈蓝深墙</div>
            <div class="service-desc">蓝深</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card8">
            <div class="service-title">武冈思源墙</div>
            <div class="service-desc">思源学校</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card9">
            <div class="service-title">武冈云峰墙</div>
            <div class="service-desc">云峰中学</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card11">
            <div class="service-title">武冈展辉墙</div>
            <div class="service-desc">展辉中学</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card12">
            <div class="service-title">武冈职业中专墙</div>
            <div class="service-desc">职业中专</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="" class="service-card card13">
            <div class="service-title">武冈五四墙</div>
            <div class="service-desc">五四中学</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
        <a href="./service/honorofking/honorofking.html" class="service-card card14" style="background-image: url(./honorofking.png);background-repeat: no-repeat;background-position: center;background-size:contain;">
            <div class="service-title">王者专区</div>
            <div class="service-desc">王者带出来的兵！</div>
            <i class="fas fa-arrow-right service-arrow"></i>
        </a>
    </section>

    <!--  下载按钮 -->
    <section class="section5">
        <button class="download-btn" onclick="window.open('http://an.kijk.top/index.php', '_blank')">下载APP</button>
    </section>

    <!--页脚 -->
    <section class="section7">
        <div class="footer-logo">
<img src="./home.svg" alt="logo" style="width: 30px;">
        </div>
        <div class="footer-name">武冈信息墙 | <a href="./anchina.html" style="color: #000000;text-decoration: none;">进入后台</a> | <a href="./feedback/feedback.php" style="color: #000000;text-decoration: none;">反馈</a></div>
    </section>


    <script>
        // 轮播功能实现（兼容多端）
        const carouselContainer = document.querySelector('.carousel-container');
        const prevBtn = document.querySelector('.prev-btn');
        const nextBtn = document.querySelector('.next-btn');
        const indicators = document.querySelectorAll('.indicator-dot');
        const carouselItems = document.querySelectorAll('.carousel-item');
        let currentIndex = 0;
        const itemCount = carouselItems.length;
        let autoPlayTimer;

        // 切换轮播函数
        function switchCarousel(index) {
            carouselContainer.style.transform = `translateX(-${index * 100}%)`;
            // 更新指示器状态
            indicators.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            currentIndex = index;
        }

        // 下一张
        function nextSlide() {
            let nextIndex = (currentIndex + 1) % itemCount;
            switchCarousel(nextIndex);
        }

        // 上一张
        function prevSlide() {
            let prevIndex = (currentIndex - 1 + itemCount) % itemCount;
            switchCarousel(prevIndex);
        }

        // 自动轮播
        function startAutoPlay() {
            autoPlayTimer = setInterval(nextSlide, 3000);
        }

        // 停止自动轮播
        function stopAutoPlay() {
            clearInterval(autoPlayTimer);
        }

        // 事件监听
        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);
        indicators.forEach((dot, i) => {
            dot.addEventListener('click', () => switchCarousel(i));
        });
        // 鼠标悬停停止自动轮播
        document.querySelector('.section2').addEventListener('mouseenter', stopAutoPlay);
        document.querySelector('.section2').addEventListener('mouseleave', startAutoPlay);

        // 启动自动轮播
        startAutoPlay();

        // 图片对比功能（兼容鼠标/触摸操作）
        const sliderBtn = document.querySelector('.slider-btn');
        const topImg = document.querySelector('.top-img');
        const compareContainer = document.querySelector('.compare-container');
        let isDragging = false;

        // 处理拖动逻辑
        function handleDrag(e) {
            if (!isDragging) return;
            
            // 兼容触摸事件
            const clientX = e.type.includes('touch') ? e.touches[0].clientX : e.clientX;
            const containerRect = compareContainer.getBoundingClientRect();
            const offsetX = clientX - containerRect.left;
            let percentage = (offsetX / containerRect.width) * 100;
            
            // 限制范围0-100%
            percentage = Math.max(0, Math.min(100, percentage));
            topImg.style.width = `${percentage}%`;
            sliderBtn.style.left = `${percentage}%`;
        }

        // 鼠标/触摸事件监听
        sliderBtn.addEventListener('mousedown', () => isDragging = true);
        sliderBtn.addEventListener('touchstart', () => isDragging = true);
        document.addEventListener('mouseup', () => isDragging = false);
        document.addEventListener('touchend', () => isDragging = false);
        document.addEventListener('mousemove', handleDrag);
        document.addEventListener('touchmove', handleDrag);

        // 初始化滑块位置
        sliderBtn.style.left = '50%';



// ===================== 服务卡片预加载与跳转优化（新增） ==========================================================================
document.addEventListener('DOMContentLoaded', () => {
  const serviceCards = document.querySelectorAll('.service-card');
  
  serviceCards.forEach(card => {
    const pageUrl = card.getAttribute('href'); // 获取目标页面URL
    
    // 1. 鼠标悬停时预加载目标页面（延迟50ms，避免快速划过触发无效加载）
    let preloadTimer = null;
    card.addEventListener('mouseenter', () => {
      preloadTimer = setTimeout(() => {
        // 预加载目标页面HTML
        preloadPageHtml(pageUrl);
        // 预加载目标页面可能的核心图片    页面 URL 包含 'love'等关键词时，预加载对应图片嗯对
        if (pageUrl.includes('wall')) {
          preloadImage(''); 
        } else if (pageUrl.includes('sign')) {
          preloadImage(''); 
        } else if (pageUrl.includes('chat')) {
          preloadImage(''); 
        }
        // 其他高频卡片可补充类似预加载
      }, 50);
    });
    
    // 鼠标离开时取消延迟预加载
    card.addEventListener('mouseleave', () => {
      clearTimeout(preloadTimer);
    });
    
    // 2. 点击卡片时，优先使用缓存跳转
    card.addEventListener('click', (e) => {
      jumpToTargetPage(pageUrl, e);
    });
  });
  
  // 浏览器前进/后退兼容
  window.addEventListener('popstate', (e) => {
    if (e.state && e.state.url) {
      preloadPageHtml(e.state.url).then(html => {
        if (html) {
          document.documentElement.innerHTML = html;
        } else {
          window.location.href = e.state.url;
        }
      });
    }
  });
});
// ===================== ================== =====================
    </script>
    
<!--===============================背景音频控制框架  建议放<body>末尾不阻塞页面加载=======================================-->
<!-- 背景音频播放框架 - 可直接嵌入使用（新增m4a格式支持） -->
<div id="bg-audio-container" style="position: fixed; left: 16px; bottom: 16px; z-index: 9999; cursor: pointer; user-select: none; transition: all 0.3s ease;">
    <!-- 音符样式控制按钮：小巧美观，适配所有设备 -->
    <div id="bg-audio-btn" style="width: 40px; height: 40px; border-radius: 50%; background-color: #333; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 18px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
        ♫
    </div>
    <!-- 隐藏的音频标签：核心播放载体（新增m4a格式支持） -->
    <audio id="bg-audio" loop style="display: none;">
       <!-- <source src="#" type="audio/mpeg">  -->
        <source src="./等你下课-吴雨啊.m4a" type="audio/mp4">
    </audio>
</div>

<script>
// 背景音频核心逻辑：无提醒、音符图标切换
(function() {
    // 获取核心元素
    const audioBtn = document.getElementById('bg-audio-btn');
    const bgAudio = document.getElementById('bg-audio');
    let isPlaying = false; // 播放状态标记

    // 按钮点击事件：切换播放/暂停（无任何提醒）
    audioBtn.addEventListener('click', function() {
        if (isPlaying) {
            // 暂停：切换为常规音符
            bgAudio.pause();
            audioBtn.innerHTML = '♫';
            isPlaying = false;
        } else {
            // 播放：切换为重音音符，不弹出提醒
            bgAudio.play();
            audioBtn.innerHTML = '♬';
            isPlaying = true;
        }
    });

    // 音频状态同步：防止状态不一致
    bgAudio.addEventListener('play', function() {
        audioBtn.innerHTML = '♬';
        isPlaying = true;
    });

    bgAudio.addEventListener('pause', function() {
        audioBtn.innerHTML = '♫';
        isPlaying = false;
    });

    // 响应式适配：自动调整按钮尺寸
    function resizeBtn() {
        const screenWidth = window.innerWidth;
        let btnSize = 40;
        if (screenWidth < 375) {
            btnSize = 32;
        } else if (screenWidth < 768) {
            btnSize = 36;
        }
        audioBtn.style.width = btnSize + 'px';
        audioBtn.style.height = btnSize + 'px';
        audioBtn.style.fontSize = (btnSize / 2) + 'px';
    }

    // 初始化+窗口变化适配
    resizeBtn();
    window.addEventListener('resize', resizeBtn);
})();
</script>
<!--===============================背景音频控制框架=======================================-->

</body>
</html>